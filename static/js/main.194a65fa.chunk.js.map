{"version":3,"sources":["../../src/index.tsx","App.tsx","index.tsx"],"names":["MultiTierMenu","state","mainMenu","hoverPosition","secondaryMenu","selection","_","prevState","props","componentDidMount","this","componentWillUnmount","render","style","className","styles","onClick","openMenu","bind","getMenuLayout","layoutItems","secondLayoutItems","menuItem","rightArrow","description","hasSeparator","React","key","label","onMouseOver","$","child","layout","secondLayout","top","getRelativeHeight","target","event","bounds","setState","sendSelection","undefined","callback","startCloseListener","$target","stopCloseListener","App","menuItems","value","separator","children","item","position","left","textAlign","width","Component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.194a65fa.chunk.js","sourcesContent":["import $ from 'jquery';\nimport * as _ from 'lodash';\nimport * as React from 'react';\nimport { Component, ReactComponentElement } from 'react';\n\nimport 'typeface-poppins';\nimport styles from './styles.scss';\n\nexport interface MenuItem {\n    label: string;\n    value: string | number;\n    separator: boolean;\n    description?: string;\n    sectionHeading?: string;\n    children?: MenuItem[];\n}\n\ninterface MenuProps extends Component {\n    callback?: (item: MenuItem) => any\n    menuItems: MenuItem[];\n    selection?: MenuItem;\n}\n\ninterface MenuState {\n    mainMenu: boolean;\n    hoverPosition?: number;\n    secondaryMenu?: MenuItem;\n    selection?: MenuItem;\n}\n\nexport class MultiTierMenu extends Component<any, MenuState> {\n    public state = {\n        mainMenu: false,\n        hoverPosition: 56,\n        secondaryMenu: {} as MenuItem,\n        selection: {} as MenuItem\n    };\n\n    public static getDerivedStateFromProps(props: MenuProps, prevState: MenuState): MenuState {\n        if (_.isEmpty(prevState.selection)) {\n            return { ...prevState, selection: props.selection || props.menuItems[0] };\n        } else if (props.selection && prevState.selection && props.selection.value !== prevState.selection.value) {\n            return { ...prevState, selection: props.selection };\n        }\n\n        return prevState;\n    }\n\n    public componentDidMount(): void {\n        this.startCloseListener();\n    }\n\n    public componentWillUnmount(): void {\n        this.stopCloseListener();\n    }\n\n    public render(): ReactComponentElement<any> {\n        return (\n            <div style={this.props.style}\n                 className={this.props.className ? this.props.className` ${styles.mtmContainer}` : styles.mtmContainer}\n                 onClick={this.openMenu.bind(this)}>\n                <div className={styles.selectText}>\n                    {this.state.selection.label}\n                </div>\n                <i className={`${styles.arrow} ${styles.arrowDown}`}/>\n                {this.getMenuLayout()}\n            </div>\n        );\n    }\n\n    private getMenuLayout(): JSX.Element | null {\n        if (_.isEmpty(this.props.menuItems) || !this.state.mainMenu) {\n            return null;\n        }\n\n        let layoutItems: JSX.Element[] = [];\n        let secondLayoutItems: JSX.Element[] = [];\n        for (const menuItem of this.props.menuItems) {\n            const rightArrow: JSX.Element | null = menuItem.children ?\n                <i className={`${styles.arrow} ${styles.arrowRight} ${styles.itemIcon}`}/> : null;\n            const description: JSX.Element | null = menuItem.description ?\n                <div className={styles.itemDesc}>\n                    {menuItem.description}\n                </div> : null;\n            const hasSeparator: JSX.Element | null = menuItem.separator ? <hr/> : null;\n\n            layoutItems.push(\n                <li key={`item-${menuItem.label}`}\n                    onMouseOver={(e: any) => {\n                        this.setState({\n                            secondaryMenu: menuItem,\n                            hoverPosition: this.getRelativeHeight(e, $(`.${styles.mtmMenu}`).first().get(0))\n                        });\n                    }}\n                    onClick={(e) => this.sendSelection(e, menuItem)}>\n                    <span className={styles.itemText}>{menuItem.label}</span>\n                    {rightArrow}\n                    {description}\n                    {hasSeparator}\n                </li>\n            );\n        }\n\n        if (this.state.secondaryMenu && this.state.secondaryMenu.children) {\n            for (const child of this.state.secondaryMenu.children) {\n                const description: JSX.Element | null = child.description ?\n                    <div className={styles.itemDesc}>\n                        {child.description}\n                    </div> : null;\n                const hasSeparator: JSX.Element | null = child.separator ? <hr/> : null;\n\n                secondLayoutItems.push(\n                    <li key={`item-${child.label}`} onClick={(e) => this.sendSelection(e, child)}>\n                        <span className={styles.itemText}>{child.label}</span>\n                        {description}\n                        {hasSeparator}\n                    </li>\n                );\n            }\n        }\n\n        const layout: JSX.Element | null = layoutItems.length ? (\n            <div className={styles.mtmMenu}>\n                <ul>\n                    {layoutItems}\n                </ul>\n            </div>\n        ) : null;\n\n        const secondLayout: JSX.Element | null = secondLayoutItems.length ? (\n            <div className={styles.mtmMenu} style={{top: `${this.state.hoverPosition + 56}px`}}>\n                <ul>\n                    {secondLayoutItems}\n                </ul>\n            </div>\n        ) : null;\n\n        return (\n            <div>\n                {layout}\n                {secondLayout}\n            </div>\n        );\n    }\n\n    private getRelativeHeight(event: any, target: any = event.target): number {\n        const bounds: DOMRect = target.getBoundingClientRect();\n        return event.clientY - bounds.top;\n    }\n\n    private openMenu(): void {\n        if (_.isEmpty(this.state.mainMenu))\n            this.setState({ mainMenu: true });\n    }\n\n    private sendSelection(event: any, selection: MenuItem): void {\n        event.stopPropagation();\n        this.setState({ selection: selection, mainMenu: false, secondaryMenu: undefined, hoverPosition: undefined });\n        if (this.props.callback) this.props.callback(selection);\n    }\n\n    private startCloseListener(): void {\n        this.stopCloseListener();\n        $(document).on('click.menuclose', (event: any) => {\n            const $target: JQuery = $(event.target).first();\n            if (!$target.hasClass(styles.mtmContainer) && !$target.parents(`.${styles.mtmContainer}`).length) {\n                this.setState({ mainMenu: false, secondaryMenu: undefined, hoverPosition: undefined });\n            } else {\n                return;\n            }\n        });\n    }\n\n    private stopCloseListener(): void {\n        $(document).off('click.menuclose');\n    }\n}\n","import { MenuItem, MultiTierMenu } from 'multi-tier-menu';\nimport 'multi-tier-menu/dist/index.css';\nimport React, { Component, ReactComponentElement } from 'react';\n\nexport default class App extends Component<any> {\n    public state = {\n        selection: ''\n    };\n\n    private menuItems: MenuItem[] = [\n        {\n            label: 'Default Selection',\n            value: 'default',\n            description: 'A basic budget to manage your overall spending month to month.',\n            separator: true\n        },\n        {\n            label: 'Parent2',\n            value: 'Parent2',\n            separator: false,\n            children: [\n                {\n                    label: 'Child1',\n                    value: 'Child1',\n                    separator: false\n                },\n                {\n                    label: 'Child2',\n                    value: 'Child2',\n                    separator: false\n                },\n                {\n                    label: 'Child3',\n                    value: 'Child3',\n                    separator: false\n                },\n                {\n                    label: 'Child4',\n                    value: 'Child4',\n                    separator: false\n                },\n                {\n                    label: 'Child5',\n                    value: 'Child5',\n                    separator: false\n                }\n            ]\n        },\n        {\n            label: 'Parent3',\n            value: 'Parent3',\n            separator: false,\n            children: [\n                {\n                    label: 'Child6',\n                    value: 'Child6',\n                    separator: false\n                },\n                {\n                    label: 'Child7',\n                    value: 'Child7',\n                    separator: false\n                },\n                {\n                    label: 'Child8',\n                    value: 'Child8',\n                    separator: false\n                },\n                {\n                    label: 'Child9',\n                    value: 'Child9',\n                    separator: false\n                },\n                {\n                    label: 'Child10',\n                    value: 'Child10',\n                    separator: false\n                }\n            ]\n        },\n        {\n            label: 'Parent4',\n            value: 'Parent1',\n            separator: false,\n            children: [\n                {\n                    label: 'Child11',\n                    value: 'Child11',\n                    separator: false\n                },\n                {\n                    label: 'Child12',\n                    value: 'Child12',\n                    separator: false\n                },\n                {\n                    label: 'Child13',\n                    value: 'Child13',\n                    separator: false\n                },\n                {\n                    label: 'Child14',\n                    value: 'Child14',\n                    separator: false\n                },\n                {\n                    label: 'Child15',\n                    value: 'Child15',\n                    separator: false\n                }\n            ]\n        },\n        {\n            label: 'Parent5',\n            value: 'Parent5',\n            separator: false,\n            children: [\n                {\n                    label: 'Child16',\n                    value: 'Child16',\n                    separator: false\n                },\n                {\n                    label: 'Child17',\n                    value: 'Child17',\n                    separator: false\n                },\n                {\n                    label: 'Child18',\n                    value: 'Child18',\n                    separator: false\n                },\n                {\n                    label: 'Child19',\n                    value: 'Child19',\n                    separator: false\n                },\n                {\n                    label: 'Child20',\n                    value: 'Child20',\n                    separator: false\n                }\n            ]\n        }\n    ];\n\n    public render(): ReactComponentElement<any> {\n        return (\n            <div>\n                <MultiTierMenu menuItems={this.menuItems}\n                               callback={(item: MenuItem) =>\n                                   this.setState({ selection: `${item.value} selected.`})}\n                               style={{ position: 'absolute', top: '100px', left: 'calc(50% - 125px)' }}/>\n                <h1 style={{ textAlign: 'center', width: '100%'}}>{this.state.selection}</h1>\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss';\n\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}